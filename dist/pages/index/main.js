require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],{"5vTQ":function(t,e,i){"use strict";var a=i("Xxa5"),r=i.n(a),s=i("exGp"),n=i.n(s),c=i("Dd8w"),o=i.n(c),l=i("NYxO"),u=i("eeeW"),h=i("loL9"),g=i("FCLg");e.a={components:{navitem:u.a,listTeacher:h.a,listOrder:g.a},data:function(){return{counter:0,prefix:"",scrollTop:0,top:0,menuFixed:!1,list_item_height:0,list_item_height_r:0,headData:{},hotTeacher:{},newOrder:{},currentData:0,navborArr:[{url:"/static/img/img-yw.png",text:"语文"},{url:"/static/img/img-sx.png",text:"数学"},{url:"/static/img/img-yy.png",text:"英语"},{url:"/static/img/img-wl.png",text:"物理"},{url:"/static/img/img-hx.png",text:"化学"},{url:"/static/img/img-more.png",text:"更多"}],imgs:["/static/img/banner1.png","/static/img/banner2.png","/static/img/banner3.png"]}},onLoad:function(){this.prefix=this.$store.state.prefix,this.getData()},onShow:function(){this.counter=0,1===this.$store.state.refresh&&(this.list_item_height=0,this.list_item_height_r=0,this.prefix=this.$store.state.prefix,this.getData())},onReachBottom:function(){var t=this;0===this.list_item_height&&this.counter<3&&(this.counter++,console.log("counter="+this.counter),this.$http.get("/index/getTeacher",{prefix:this.prefix}).then(function(e){t.hotTeacher=e.data.data,t.getHeightLeft(),t.getHeightRight()}))},methods:o()({},Object(l.b)({refresh:"SET_REFRESH_FLAG"}),{getHeightLeft:function(){var t=this;this.list_item_height=0,wx.createSelectorQuery().selectAll(".list-item").boundingClientRect(function(e){e.forEach(function(e){t.list_item_height+=e.height}),console.log(t.list_item_height)}).exec()},getHeightRight:function(){var t=this;this.list_item_height_r=0,wx.createSelectorQuery().selectAll(".list-item-r").boundingClientRect(function(e){e.forEach(function(e){t.list_item_height_r+=e.height}),t.list_item_height_r+=100}).exec()},getTop:function(){var t=this;wx.createSelectorQuery().select(".list-title").boundingClientRect(function(e){t.top=e.top}).exec()},checkCurrent:function(t){if(this.currentData===t.target.dataset.current)return!1;this.currentData=t.target.dataset.current},changerlist:function(t){this.currentData=t.mp.detail.current},change:function(t){},getData:function(){var t=this;return n()(r.a.mark(function e(){var i,a,s,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,t.$http.get("/index/getTeacher",{prefix:t.prefix});case 3:return a=e.sent,t.hotTeacher=a.data.data,e.next=7,t.$http.post("/latestOrder/getLatestOrder",{prefix:t.prefix});case 7:return s=e.sent,t.newOrder=s.data.data,e.next=11,t.$http.get("/index/getHeader",{prefix:t.prefix});case 11:n=e.sent,t.headData=n.data.data,t.$nextTick(function(){i.getHeightLeft(),i.getHeightRight(),i.getTop(),i.refresh(0)});case 14:case"end":return e.stop()}},e,t)}))()},bindViewTap:function(t){wx.navigateTo({url:t})}})}},MRcb:function(t,e){},MhDc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("5nAL"),r=i.n(a),s=i("Qt9A");new r.a(s.a).$mount()},Qt9A:function(t,e,i){"use strict";var a=i("5vTQ"),r=i("sDLk");var s=function(t){i("MRcb")},n=i("ybqe")(a.a,r.a,s,"data-v-927e435c",null);e.a=n.exports},UqgU:function(t,e,i){"use strict";var a=i("Dd8w"),r=i.n(a),s=i("NYxO");e.a={props:["url","text"],data:function(){return{}},onLoad:function(){},methods:r()({},Object(s.b)({setSubject:"SET_SUBJECT"}),{switchbar:function(t){"更多"==t&&(t=""),this.setSubject(t),wx.switchTab({url:"../teacher/main"})}})}},eeeW:function(t,e,i){"use strict";var a=i("UqgU"),r=i("kgZD");var s=function(t){i("omBj")},n=i("ybqe")(a.a,r.a,s,"data-v-861a1b10",null);e.a=n.exports},kgZD:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"weui-grid",attrs:{"hover-class":"weui-grid-active",eventid:"0"},on:{tap:function(e){t.switchbar(t.text)}}},[i("image",{staticClass:"weui-grid__icon",attrs:{src:t.url}}),t._v(" "),i("text",{staticClass:"weui-grid__label"},[t._v(t._s(t.text))])])},staticRenderFns:[]};e.a=a},omBj:function(t,e){},sDLk:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"fixed"},[i("view",{staticClass:"navbar-top"},[i("view",[i("navigator",{staticClass:"nav-left",attrs:{url:"../yuyue/main"}},[t._v("请老师")])],1),t._v(" "),i("view",[i("navigator",{attrs:{url:"../student/main","open-type":"switchTab"}},[t._v("当老师")])],1)])]),t._v(" "),i("view",[i("p",{staticClass:"location"},[i("i",{staticClass:"icon"}),t._v(" 当前城市："),i("text",{attrs:{eventid:"0"},on:{tap:function(e){t.bindViewTap("../citylist/main")}}},[t._v(t._s(t.headData.cityName))])],1)],1),t._v(" "),i("view",[i("view",{staticClass:"swiper-box"},[i("swiper",{staticClass:"swiper",attrs:{"indicator-dots":"true",autoplay:"true",circular:"true",interval:"3000",duration:"500",eventid:"1"},on:{change:function(e){t.change(e)}}},t._l(t.imgs,function(t,e){return i("block",{key:e},[i("swiper-item",{attrs:{mpcomid:"0-"+e}},[i("image",{staticClass:"slide-image",attrs:{src:t,mode:"scaleToFill",width:"100%",height:"100%"}})])],1)}))],1)]),t._v(" "),i("view",{staticClass:"nav-box"},[i("view",{staticClass:"page__bd"},[i("view",{staticClass:"weui-grids"},t._l(t.navborArr,function(t,e){return i("block",{key:e},[i("navitem",{attrs:{url:t.url,text:t.text,mpcomid:"1-"+e}})],1)}))])]),t._v(" "),i("view",{staticClass:"go"},[i("navigator",{staticStyle:{width:"100%"},attrs:{url:"../yuyue/main","hover-class":"none"}},[i("img",{attrs:{src:"/static/img/img-go.png",alt:""}})])],1),t._v(" "),i("view",[i("view",{staticClass:" weui-cells_after-title"},[i("navigator",{staticClass:"weui-cell weui-cell_access",attrs:{url:"../teacher/main","open-type":"switchTab","hover-class":"weui-cell_active"}},[i("view",{staticClass:"weui-cell__bd recommend"},[t._v("热门推荐")]),t._v(" "),i("view",{staticClass:"weui-cell__ft weui-cell__ft_in-access"},[t._v("更多")])])],1),t._v(" "),i("view",{staticClass:"recommend-box"},[i("navigator",{staticClass:"r-left",attrs:{url:"../school/main"}},[i("img",{attrs:{src:"/static/img/f-school.png",alt:""}})]),t._v(" "),i("view",{staticClass:"r-right"},[i("view",{staticStyle:{"margin-bottom":"18rpx"}},[i("navigator",{staticStyle:{width:"100%"},attrs:{url:"../student/main","open-type":"switchTab"}},[i("img",{attrs:{src:"/static/img/f-student.png",alt:""}})])],1),t._v(" "),i("view",[i("navigator",{staticStyle:{width:"100%"},attrs:{url:"../yuyue/main"}},[i("img",{attrs:{src:"/static/img/f-teacher.png",alt:""}})])],1)])],1)]),t._v(" "),i("view",[i("view",{staticClass:"list-title"},[i("view",{class:{active:0===t.currentData},attrs:{"data-current":"0",eventid:"2"},on:{tap:function(e){t.checkCurrent(e)}}},[t._v("热门老师")]),t._v(" "),i("view",{class:{active:1===t.currentData},attrs:{"data-current":"1",eventid:"3"},on:{tap:function(e){t.checkCurrent(e)}}},[t._v("最新订单")])]),t._v(" "),i("swiper",{staticClass:"swiper-list",style:{height:0===t.currentData?t.list_item_height+"px":t.list_item_height_r+"px"},attrs:{current:t.currentData,duration:"300",eventid:"4"},on:{change:function(e){t.changerlist(e)}}},[i("swiper-item",{attrs:{mpcomid:"3"}},[i("scroll-view",{style:{height:t.list_item_height>0?t.list_item_height+"px":t.auto},attrs:{"scroll-y":""}},t._l(t.hotTeacher,function(t,e){return i("view",{key:e},[i("listTeacher",{attrs:{data:t,mpcomid:"2-"+e}})],1)}))],1),t._v(" "),i("swiper-item",{attrs:{mpcomid:"5"}},[i("scroll-view",{staticStyle:{"background-color":"#eee"},style:{height:t.list_item_height_r>0?t.list_item_height_r+"px":t.auto},attrs:{"scroll-y":""}},t._l(t.newOrder,function(t,e){return i("view",{key:e},[i("listOrder",{attrs:{data:t,mpcomid:"4-"+e}})],1)}))],1)],1)],1)])},staticRenderFns:[]};e.a=a}},["MhDc"]);